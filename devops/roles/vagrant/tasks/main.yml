- name: update apt
  action: command /usr/bin/apt-get update
  sudo: true

- name: update cache 
  apt: update_cache=yes
  sudo: true

# Install anything essential that you need here
- name: install essential packages
  apt: pkg=$item state=installed
  sudo: true
  with_items:
    - build-essential
    - curl
    - git
    - python-dev
    - sqlite3
    - python-setuptools
    - python-software-properties
    - libsqlite3-dev

## RVM
## ===============================================
 
- name: install RVM
  shell: curl -L https://get.rvm.io | bash
  sudo: False

- name: source the rvm files
  shell: /bin/bash -c 'source /home/vagrant/.rvm/scripts/rvm'
  sudo: False

#- name: install Ruby
#  shell: /home/vagrant/.rvm/bin/rvm install --default $ruby creates=~/.rvm/rubies/$ruby

- include: node.yml
- include: nginx.yml
